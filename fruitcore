-- Objeto de retorno do Core
local Core = {}

-- Serviços
Core.TweenService = game:GetService("TweenService")
Core.TeleportService = game:GetService("TeleportService")
Core.Players = game:GetService("Players")

-- Lista de Frutas (Simplificada para o exemplo)
Core.Fruits = {"Rocket", "Spin", "Chop", "Spring", "Bomb", "Smoke", "Spike", "Flame", "Ice", "Sand", "Dark", "Light", "Magma", "Quake", "Buddha", "Love", "Spider", "Sound", "Phoenix", "Portal", "Rumble", "Dough", "Shadow", "Venom", "Control", "Spirit", "Dragon", "Leopard", "Kitsune"}

function Core.CheckForFruits()
    for _, item in pairs(workspace:GetChildren()) do
        for _, name in pairs(Core.Fruits) do
            if item.Name:find(name) and (item:IsA("Tool") or item:IsA("Model")) then
                return item
            end
        end
    end
    return nil
end

function Core.Collect(target)
    local char = Core.Players.LocalPlayer.Character
    if char and char:FindFirstChild("HumanoidRootPart") and target then
        local hrp = char.HumanoidRootPart
        local targetPos = target:GetModelCFrame()
        
        -- Teleporte Direto para proximidade e Tween para o item
        hrp.CFrame = targetPos * CFrame.new(0, 2, 0)
        task.wait(0.1)
        return true
    end
    return false
end

function Core.ServerHop()
    -- Lógica simples de busca de novos servidores
    local servers = game:GetService("HttpService"):JSONDecode(game:HttpGet("https://games.roblox.com/v1/games/"..game.PlaceId.."/servers/Public?sortOrder=Asc&limit=100")).data
    for _, s in pairs(servers) do
        if s.playing < s.maxPlayers and s.id ~= game.JobId then
            Core.TeleportService:TeleportToPlaceInstance(game.PlaceId, s.id)
            break
        end
    end
end

return Core
