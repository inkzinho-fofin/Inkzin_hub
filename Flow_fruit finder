-- FLOW_INTERFACE.lua
if not getgenv().FlowCore then 
    -- Substitua pelo link real do seu script de funções
    loadstring(game:HttpGet("https://raw.githubusercontent.com/inkzinho-fofin/Inkzin_hub/refs/heads/main/Floe_fruit.finder_core"))() 
end

local Core = getgenv().FlowCore
local THEME_COLOR = Color3.fromRGB(0, 210, 255)
local DEFAULT_IMG = "rbxassetid://135908570815238"

local sg = Instance.new("ScreenGui", game:GetService("CoreGui"))
local OpenBtn = Instance.new("ImageButton", sg)
OpenBtn.Size = UDim2.new(0, 50, 0, 50)
OpenBtn.Position = UDim2.new(0, 15, 0, 15)
OpenBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Instance.new("UICorner", OpenBtn).CornerRadius = UDim.new(1, 0)

local MainFrame = Instance.new("Frame", sg)
MainFrame.Size = UDim2.new(0, 320, 0, 190)
MainFrame.Position = UDim2.new(0.5, -160, 0.4, -95)
MainFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Instance.new("UICorner", MainFrame)

local BgImg = Instance.new("ImageLabel", MainFrame)
BgImg.Size = UDim2.new(1, 0, 1, 0)
BgImg.BackgroundTransparency = 1
BgImg.ImageTransparency = 0.6

-- Loop de atualização de imagem via getgenv
task.spawn(function()
    while task.wait(0.5) do
        local img = getgenv().CustomFruitImg or DEFAULT_IMG
        if OpenBtn.Image ~= img then
            OpenBtn.Image = img
            BgImg.Image = img
        end
    end
end)

-- Lógica de abrir/fechar
OpenBtn.MouseButton1Click:Connect(function() MainFrame.Visible = not MainFrame.Visible end)

-- Exemplo de execução usando o Core
task.spawn(function()
    while task.wait(2) do
        local fruits = Core.ScanForFruits()
        if #fruits > 0 then
            Core.SmartMove(fruits[1]:GetPivot())
            Core.Store(fruits[1].Name, fruits[1])
        end
    end
end)
